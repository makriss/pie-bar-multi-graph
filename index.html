<!DOCTYPE html>
<html>
    <head>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link href="pie-bar-multi-graph.css" rel="stylesheet">
    </head>
    <body>
        <div id="graph-chart"> </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
        <script src="pie-bar-multi-graph.js"></script>
        <script>
                var football = [
            		{id:1, name: '2011-12', value: 204,
            			 categories:[
            				 {
            					name: 'La Liga',
            					categories:
            					 [
            						 { name: 'Lionel Messi', value: 50},
            						 { name: 'Christiano Ronaldo', value: 46},
            						 { name: 'Karim Benzema', value: 21}
            					 ],
            				 },
            				 {
            					name: 'Champions League',
            					categories:
            					 [
            						 { name: 'Lionel Messi', value: 14},
            						 { name: 'Christiano Ronaldo', value: 12},
            						 { name: 'Sergio Aguero', value: 1}
            					 ]
            				},
            				 {
            					name: 'English Premier League',
            					categories:
            					 [
            						 { name: 'Sergio Aguero', value: 23},
            						 { name: 'Suarez', value: 10},
            						 { name: 'Wayne Rooney', value: 27}
            					 ]
            				 }
            			 ]
            		},
            		{id:2, name: '2012-13', value: 173,
            			 categories:[
            				 {
            					name: 'La Liga',
            					categories:
            					 [
            						 { name: 'Lionel Messi', value: 46},
            						 { name: 'Christiano Ronaldo', value: 34},
            						 { name: 'Karim Benzema', value: 11}
            					 ],
            				 },
            				 {
            					name: 'Champions League',
            					categories:
            					 [
            						 { name: 'Lionel Messi', value: 8},
            						 { name: 'Christiano Ronaldo', value: 12},
            						 { name: 'Sergio Aguero', value: 2}
            					 ]
            				},
            				 {
            					name: 'English Premier League',
            					categories:
                                    [
                                        { name: 'Sergio Aguero', value: 12},
                                        { name: 'Suarez', value: 23},
                                        { name: 'Wayne Rooney', value: 12}
                                    ]
            				 }
            			 ]
            		},
            		{id:3, name: '2013-14', value: 170,
            			 categories:[
            				 {
            					name: 'La Liga',
            					categories:
            					 [
            						 { name: 'Lionel Messi', value: 28},
            						 { name: 'Christiano Ronaldo', value: 31},
            						 { name: 'Karim Benzema', value: 17}
            					 ],
            				 },
            				 {
            					name: 'Champions League',
            					categories:
            					 [
            						 { name: 'Lionel Messi', value: 8},
            						 { name: 'Christiano Ronaldo', value: 17},
            						 { name: 'Sergio Aguero', value: 6}
            					 ]
            				},
            				 {
            					name: 'English Premier League',
            					categories:
                                    [
                                       { name: 'Sergio Aguero', value: 17},
                                       { name: 'Suarez', value: 31},
                                       { name: 'Wayne Rooney', value: 17}
                                   ]
            				 }
            			 ]
            		}
            	];

                var dashData = [
                    {
                        "id": 1,
                        "name": "FR1",
                        "value": 62,
                        "categories": [
                            {
                                "id": 6,
                                "name": "Early Stage",
                                "categories": [
                                    {
                                        "name": "not worked",
                                        "value": 9
                                    },
                                    {
                                        "name": "try again",
                                        "value": 29
                                    },
                                    {
                                        "name": "follow up",
                                        "value": 23
                                    },
                                    {
                                        "name": "booking",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 8,
                                "name": "Not Interested",
                                "categories": [
                                    {
                                        "name": "not interested",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 15,
                                "name": "Confirmation Stage",
                                "categories": [
                                    {
                                        "name": "smr service reschedule",
                                        "value": 1
                                    },
                                    {
                                        "name": "smr cancel and follow",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr marked visited",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr reminder not called",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr confirmed service booking",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr pickup not called",
                                        "value": 3
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": 16,
                        "name": "FR2",
                        "value": 140,
                        "categories": [
                            {
                                "id": 21,
                                "name": "Early Stage",
                                "categories": [
                                    {
                                        "name": "not worked",
                                        "value": 6
                                    },
                                    {
                                        "name": "try again",
                                        "value": 80
                                    },
                                    {
                                        "name": "follow up",
                                        "value": 50
                                    },
                                    {
                                        "name": "booking",
                                        "value": 1
                                    }
                                ]
                            },
                            {
                                "id": 23,
                                "name": "Not Interested",
                                "categories": [
                                    {
                                        "name": "not interested",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 30,
                                "name": "Confirmation Stage",
                                "categories": [
                                    {
                                        "name": "smr service reschedule",
                                        "value": 2
                                    },
                                    {
                                        "name": "smr cancel and follow",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr marked visited",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr reminder not called",
                                        "value": 1
                                    },
                                    {
                                        "name": "smr confirmed service booking",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr pickup not called",
                                        "value": 3
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": 31,
                        "name": "FR3",
                        "value": 193,
                        "categories": [
                            {
                                "id": 36,
                                "name": "Early Stage",
                                "categories": [
                                    {
                                        "name": "not worked",
                                        "value": 5
                                    },
                                    {
                                        "name": "try again",
                                        "value": 127
                                    },
                                    {
                                        "name": "follow up",
                                        "value": 51
                                    },
                                    {
                                        "name": "booking",
                                        "value": 2
                                    }
                                ]
                            },
                            {
                                "id": 38,
                                "name": "Not Interested",
                                "categories": [
                                    {
                                        "name": "not interested",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 45,
                                "name": "Confirmation Stage",
                                "categories": [
                                    {
                                        "name": "smr service reschedule",
                                        "value": 7
                                    },
                                    {
                                        "name": "smr cancel and follow",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr marked visited",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr reminder not called",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr confirmed service booking",
                                        "value": 1
                                    },
                                    {
                                        "name": "smr pickup not called",
                                        "value": 3
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": 46,
                        "name": "NA",
                        "value": 103,
                        "categories": [
                            {
                                "id": 51,
                                "name": "Early Stage",
                                "categories": [
                                    {
                                        "name": "not worked",
                                        "value": 89
                                    },
                                    {
                                        "name": "try again",
                                        "value": 3
                                    },
                                    {
                                        "name": "follow up",
                                        "value": 9
                                    },
                                    {
                                        "name": "booking",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 53,
                                "name": "Not Interested",
                                "categories": [
                                    {
                                        "name": "not interested",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 60,
                                "name": "Confirmation Stage",
                                "categories": [
                                    {
                                        "name": "smr service reschedule",
                                        "value": 2
                                    },
                                    {
                                        "name": "smr cancel and follow",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr marked visited",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr reminder not called",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr confirmed service booking",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr pickup not called",
                                        "value": 3
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": 61,
                        "name": "PMC",
                        "value": 39198,
                        "categories": [
                            {
                                "id": 66,
                                "name": "Early Stage",
                                "categories": [
                                    {
                                        "name": "not worked",
                                        "value": 37172
                                    },
                                    {
                                        "name": "try again",
                                        "value": 920
                                    },
                                    {
                                        "name": "follow up",
                                        "value": 995
                                    },
                                    {
                                        "name": "booking",
                                        "value": 18
                                    }
                                ]
                            },
                            {
                                "id": 68,
                                "name": "Not Interested",
                                "categories": [
                                    {
                                        "name": "not interested",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 75,
                                "name": "Confirmation Stage",
                                "categories": [
                                    {
                                        "name": "smr service reschedule",
                                        "value": 69
                                    },
                                    {
                                        "name": "smr cancel and follow",
                                        "value": 8
                                    },
                                    {
                                        "name": "smr marked visited",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr reminder not called",
                                        "value": 6
                                    },
                                    {
                                        "name": "smr confirmed service booking",
                                        "value": 10
                                    },
                                    {
                                        "name": "smr pickup not called",
                                        "value": 3
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "id": 76,
                        "name": "PMS",
                        "value": 35724,
                        "categories": [
                            {
                                "id": 81,
                                "name": "Early Stage",
                                "categories": [
                                    {
                                        "name": "not worked",
                                        "value": 34199
                                    },
                                    {
                                        "name": "try again",
                                        "value": 771
                                    },
                                    {
                                        "name": "follow up",
                                        "value": 677
                                    },
                                    {
                                        "name": "booking",
                                        "value": 13
                                    }
                                ]
                            },
                            {
                                "id": 83,
                                "name": "Not Interested",
                                "categories": [
                                    {
                                        "name": "not interested",
                                        "value": 3
                                    }
                                ]
                            },
                            {
                                "id": 90,
                                "name": "Confirmation Stage",
                                "categories": [
                                    {
                                        "name": "smr service reschedule",
                                        "value": 39
                                    },
                                    {
                                        "name": "smr cancel and follow",
                                        "value": 9
                                    },
                                    {
                                        "name": "smr marked visited",
                                        "value": 3
                                    },
                                    {
                                        "name": "smr reminder not called",
                                        "value": 5
                                    },
                                    {
                                        "name": "smr confirmed service booking",
                                        "value": 11
                                    },
                                    {
                                        "name": "smr pickup not called",
                                        "value": 3
                                    }
                                ]
                            }
                        ]
                    }
                ]

                var config = {
                		width: 1100,
                		height: 350,
                		valueProp: 'value',
                		labelProp: 'name',
                		subProp: 'categories',
                		id: '#graph-chart',
                		ratio: 0.7
                		// textOffsetHeight: 50
                	}

                graph = new multiGraphChart(config, dashData);

        </script>
    </body>

</html>
